# BThwani โ Git Flow (dev โ main via PR)

## ๐ ุงูุณูุงุณุฉ ุงููุนุชูุฏุฉ

**ูุณุงุฑ ุนูู ุจุณูุท ูุขูู:**
- โ ูุฑุน ุฅุตุฏุงุฑ ูุงุญุฏ: `main` (ูุญููุ ูุง push ูุจุงุดุฑ)
- โ ูุฑุน ุนูู ูููู ูุงุญุฏ: `dev` (ูู ุงูุชุทููุฑ ุนูููุ Agent ูุนูู ููุง)
- โ ุงูุฏูุฌ ุฅูู `main` ูุชู ููุท ุนุจุฑ Pull Request ูู GitHub
- โ Agent ูุง ูููุณ Gitุ Git ููุท ุจูุฏ ุงููุณุชุฎุฏู

---

## 1) ุงูููุฑุฉ ุงูุนุงูุฉ

### `main` = ูุฑุน ุงูุฅุตุฏุงุฑ

`main` ูู ุงููุฑุน ุงููุญูู ูู GitHub ุงูุฐู ููุซู ุญุงูุฉ ุงูุฅุตุฏุงุฑ ุงูููุงุฆู ูููุดุฑูุน. ูุฐุง ุงููุฑุน ูุญูู ูู ุงูุชุนุฏูู ุงููุจุงุดุฑุ ููุง ูุนูู ุฃูู ูุง ูููู ุนูู `git push origin main` ูุจุงุดุฑุฉ ูู ุงูุฌูุงุฒ. ุงููุฏู ูู ูุฐู ุงูุญูุงูุฉ ูู ุถูุงู ุฃู ุฃู ุชุบููุฑ ูุตู ุฅูู `main` ูููู ูุฏ ุชู ูุฑุงุฌุนุชู ูุงุนุชูุงุฏู ุจุดูู ุตุญูุญ.

### `dev` = ูุฑุน ุงูุนูู ุงููููู

`dev` ูู ุงููุฑุน ุงูุฐู ูุชู ุงูุนูู ุนููู ููููุงู. ุนูุฏ ูุชุญ ุงููุดุฑูุนุ ูุฌุจ ุงูุชุฃูุฏ ูู ุฃูู ุนูู ูุฑุน `dev` ูููุณ `main`. Agent (ุฃู ุฃู ุฃุฏุงุฉ ุชุทููุฑ) ุชุนูู ุนูู ุชุนุฏูู ุงููููุงุช ุนูู ูุฑุน `dev`. ุจุนุฏ ุฅุชูุงู ุงูุชุนุฏููุงุชุ ูุชู ุฑูุน ุงูุชุบููุฑุงุช ุจุงุณุชุฎุฏุงู `git push origin dev`.

### ุงูุฏูุฌ ุฅูู `main` ุนุจุฑ Pull Request

ุนูุฏูุง ุชููู ุฑุงุถูุงู ุนู ุงูุชุบููุฑุงุช ุนูู `dev` ูุชุฑูุฏ ุงุนุชูุงุฏูุง ูู ุงูุฅุตุฏุงุฑ ุงูููุงุฆูุ ูุชู ูุชุญ GitHub ูุฅูุดุงุก Pull Request ูู `dev` ุฅูู `main`. ุจุนุฏ ูุฑุงุฌุนุฉ ุงูู diff ูุงูุชุฃูุฏ ูู ุงูุชุบููุฑุงุชุ ูุชู ุงูุถุบุท ุนูู Merge ูู GitHub. GitHub ูุชููู ุจุงูุฏูุฌ ุชููุงุฆูุงูุ ููุง ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู `git merge` ุฃู `rebase` ูู Terminal.

**ุงูุฎูุงุตุฉ:** `main` ููุฅุตุฏุงุฑ ุงูููุงุฆู ุงููุญููุ `dev` ููุนูู ุงูููููุ ูุงูุฏูุฌ ูุชู ุนุจุฑ PR ูู GitHub ููุท.

---

## 2) ุฃูุงูุฑ ุงูุฅุนุฏุงุฏ ููุฑุฉ ูุงุญุฏุฉ (ุฅูุดุงุก dev ูู main)

### 1) ุงูุชุฃูุฏ ูู ุฃู `main` ูุญุฏุซ

```bash
git checkout main
git pull origin main
```

**ุงููุฏู:** ุงูุชุฃูุฏ ูู ุฃู ูุฑุน `main` ุงููุญูู ูุชุฒุงูู ูุน GitHub ูุจู ุฅูุดุงุก `dev`.

---

### 2) ุฅูุดุงุก ูุฑุน `dev` ูู ุงูุญุงูุฉ ุงูุญุงููุฉ ูุฏูุนู ุฅูู GitHub

```bash
git checkout -b dev
git push -u origin dev
```

**ุงููุฏู:** ุฅูุดุงุก ูุฑุน `dev` ูุญููุงู ูู `main` ุงูุญุงููุ ุซู ุฏูุนู ุฅูู GitHub ูุน ุฑุจุทู ููุฑุน ุชุชุจุน.

---

### 3) ุจุนุฏ ุฐููุ ุชุฃููุฏ ุฃู ุงููุฑุนูู ููุฌูุฏุงู

```bash
git branch
git branch -r
```

**ุงููุฏู:** ุงูุชุญูู ูู ุฃู `dev` ููุฌูุฏ ูุญููุงู ูุจุนูุฏุงู (ุนูู GitHub).

---

## 3) ุญูุงูุฉ main ูู GitHub (ุดุฑุญ ููุท)

### ุงูุฎุทูุงุช:

1. **ุงูุฐูุงุจ ุฅูู ุฅุนุฏุงุฏุงุช ุงูุญูุงูุฉ:**
   - ุงูุชุญ GitHub ุนูู ุงููุณุชูุฏุน `bthwani-platform`
   - ุงุฐูุจ ุฅูู: **Settings** โ **Branches** โ **Branch protection rules**

2. **ุฅุถุงูุฉ Rule ุนูู `main`:**
   - ุงุถุบุท **Add rule** ุฃู **New rule**
   - ูู ุญูู **Branch name pattern**ุ ุงูุชุจ: `main`
   - ูุนูู ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ:
     - โ **Require pull request reviews before merging**
     - โ **Protect against force push and deletion** (ุฃู **Block force pushes** ู **Block branch deletion**)

3. **ุญูุธ ุงููุงุนุฏุฉ:**
   - ุงุถุบุท **Create** ุฃู **Save changes**

### ุงููุชูุฌุฉ:

- ูุง ุฃุญุฏ (ุญุชู ุฃูุช) ูุณุชุทูุน ุนูู `git push origin main` ูุจุงุดุฑุฉ
- ูู ุชุบููุฑ ุฅูู `main` ูุฌุจ ุฃู ููุฑ ุนุจุฑ Pull Request ูู `dev` ุฅูู `main`
- GitHub ุณูุฑูุถ ุฃู ูุญุงููุฉ push ูุจุงุดุฑุฉ ุฅูู `main`

---

## 4) ูุฑูุฉ ุบุด (Cheat Sheet) ูุฑูุชูู ุงูุนูู ุงููููู ุนูู dev

### Daily Git Cheat Sheet (dev โ main via PR)

---

### ุฃ) ูุจู ุงูุจุฏุก ูู ุฃู ููู (ุงูุนูู ุนูู dev)

```bash
git checkout dev
git pull origin dev
```

**ุงููุฏู:** ุงูุชุฃูุฏ ูู ุฃูู ุนูู ูุฑุน `dev` ูุฃูู ูุญุฏุซ ูุน ุขุฎุฑ ุงูุชุบููุฑุงุช ูู GitHub.

---

### ุจ) ุจุนุฏ ุนูู ุชุนุฏููุงุช ูู Cursor (Agent ุฃู ูุฏูููุง)

```bash
git status
git add .
git commit -m "ุดุฑุญ ูุฎุชุตุฑ ููุชุบููุฑ"
git push origin dev
```

**ุงููุฏู:** ุญูุธ ุงูุชุบููุฑุงุช ูุฑูุนูุง ุฅูู `dev` ุนูู GitHub.

---

### ุฌ) ุนูุฏูุง ุฃุฑูุฏ "ุงุนุชูุงุฏ ูุฏูุฌ" ุงูุชุบููุฑุงุช ูู main

**ุดุฑุญ ูุตู ููุท (ุจุฏูู ุฃูุงูุฑ Terminal):**

1. **ุงูุชุญ GitHub:**
   - ุงุฐูุจ ุฅูู ุงููุณุชูุฏุน `bthwani-platform` ุนูู GitHub

2. **ุฃูุดุฆ Pull Request:**
   - ุงุถุบุท **Pull requests** โ **New pull request**
   - ุงุฎุชุฑ **base: main** ู **compare: dev**
   - ุงูุชุจ ุนููุงู ููุตู ููู PR (ุงุฎุชูุงุฑู)

3. **ุฑุงุฌุน ุงูุชุบููุฑุงุช:**
   - ุงูุชุญ **Files changed** ููุฑุงุฌุนุฉ ุฌููุน ุงูุชุบููุฑุงุช
   - ุชุฃูุฏ ูู ุฃู ูู ุดูุก ุตุญูุญ

4. **ุฏูุฌ ุงูุชุบููุฑุงุช:**
   - ุงุถุบุท **Merge pull request**
   - ุงุฎุชุฑ ููุน ุงูุฏูุฌ (Merge commit / Squash and merge / Rebase and merge)
   - ุงุถุบุท **Confirm merge**

5. **ุจุนุฏ ุงูุฏูุฌ:**
   - ููููู ุญุฐู ูุฑุน `dev` ูู GitHub (ุงุฎุชูุงุฑู) ุฃู ุชุฑูู ููุนูู ุงููุณุชูุฑ

---

### โ๏ธ ุชุฐููุฑ ููู:

- **ูุง ุชุณุชุฎุฏู `git push origin main` ููุงุฆููุง**
- ุงูุฏูุฌ ุฅูู `main` ูุชู ููุท ูู GitHub ุนุจุฑ Pull Request
- ุจุนุฏ ุงูุฏูุฌ ูู GitHubุ ููููู ุชุญุฏูุซ `main` ูุญููุงู:
  ```bash
  git checkout main
  git pull origin main
  ```

---

## 5) ุนูุงูุฉ Agent ุจูุฐุง ุงูุฃุณููุจ (ููุฎุต ูุตูุฑ)

### Agent ูุนูู ุฏุงุฆููุง ุนูู ูุฑุน `dev`

Agent (ุฃู ุฃู ุฃุฏุงุฉ ุชุทููุฑ ุชููุงุฆูุฉ) ุชุนูู ุญุตุฑูุงู ุนูู ูุฑุน `dev`. ุนูุฏ ูุชุญ ุงููุดุฑูุนุ ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู Agent ูุนูู ุนูู `dev` ูููุณ `main`.

### Agent ูุณููุญ ูู ููุท:

- ูุฑุงุกุฉ ุงููููุงุช
- ุงูุชุฑุงุญ/ุชุทุจูู ุชุนุฏููุงุช ุนูู ุงูููุฏ ุนูู ูุฑุน `dev`
- ุชุนุฏูู ุงููููุงุช ุฏุงุฎู ุงููุดุฑูุน

### Agent ุบูุฑ ูุณููุญ ูู:

- ุชุดุบูู ุฃูุงูุฑ Git ุฃู Terminal
- ุนูู `commit` ุฃู `push`
- ุชุบููุฑ ุงููุฑูุน ุฃู ุนูู merge

### ูุงูุฉ ุฃูุงูุฑ Git ูุฏููุฉ:

ุฌููุน ุฃูุงูุฑ Git (`status`, `add`, `commit`, `push`) ูููู ุจูุง ุงููุณุชุฎุฏู ูุฏููุงู ูู Terminal. Agent ูุนุฏูู ุงููููุงุช ููุทุ ูุงููุณุชุฎุฏู ูุชุญูู ูู Git ุจุงููุงูู.

---

## ๐ ููุฎุต ุณุฑูุน

| ุงูุนูููุฉ | ุงููุฑุน | ุงูุทุฑููุฉ |
|---------|-------|---------|
| ุงูุนูู ุงููููู | `dev` | ุชุนุฏูู ุงููููุงุช + `git push origin dev` |
| ุงุนุชูุงุฏ ุงูุชุบููุฑุงุช | `main` | Pull Request ูู GitHub (`dev` โ `main`) |
| ุงูุญูุงูุฉ | `main` | Branch protection rules ูู GitHub |

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-XX

